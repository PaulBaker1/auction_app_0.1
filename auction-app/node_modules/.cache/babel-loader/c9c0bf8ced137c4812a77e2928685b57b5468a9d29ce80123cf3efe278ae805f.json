{"ast":null,"code":"import React,{useEffect,useState}from'react';import{getAuctionItemById,updateAuctionItemDiscount}from'../services/api';import{Card,Button,ButtonGroup}from'react-bootstrap';import BidForm from'./BidForm';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AuctionItemDetail=_ref=>{let{itemId}=_ref;const[item,setItem]=useState(null);useEffect(()=>{if(itemId){console.log('Fetching item details for itemId:',itemId);getAuctionItemById(itemId).then(response=>{console.log('Fetched item details:',response.data);setItem(response.data);});}},[itemId]);const handleBidPlaced=()=>{console.log('handleBidPlaced called, fetching updated item details for itemId:',itemId);getAuctionItemById(itemId).then(response=>{console.log('Updated item details:',response.data);setItem(response.data);}).catch(error=>{console.error('Error fetching auction item details:',error);});};const applyDiscount=discount=>{updateAuctionItemDiscount(item.id,discount).then(response=>{setItem(response.data);}).catch(error=>{console.error('Error applying discount:',error);});};if(!item){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:\"Select an item to see details\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:item.name}),/*#__PURE__*/_jsx(Card.Text,{children:item.description}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Starting Price: $\",item.startingPrice]}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Discount: \",item.discount,\"%\"]}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Discounted Price: $\",item.startingPrice*(1-item.discount/100).toFixed(2)]}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Current Bid: $\",item.currentBid]}),/*#__PURE__*/_jsxs(ButtonGroup,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>applyDiscount(10),children:\"10%\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>applyDiscount(25),children:\"25%\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>applyDiscount(50),children:\"50%\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>applyDiscount(75),children:\"75%\"})]}),/*#__PURE__*/_jsx(BidForm,{itemId:item.id,onBidPlaced:handleBidPlaced})]})})});};export default AuctionItemDetail;","map":{"version":3,"names":["React","useEffect","useState","getAuctionItemById","updateAuctionItemDiscount","Card","Button","ButtonGroup","BidForm","jsx","_jsx","jsxs","_jsxs","AuctionItemDetail","_ref","itemId","item","setItem","console","log","then","response","data","handleBidPlaced","catch","error","applyDiscount","discount","id","className","children","Body","Title","name","Text","description","startingPrice","toFixed","currentBid","variant","onClick","onBidPlaced"],"sources":["C:/Users/Paul/Desktop/v0.1 - Copy/auction-app/src/components/AuctionItemDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { getAuctionItemById, updateAuctionItemDiscount } from '../services/api';\r\nimport { Card, Button, ButtonGroup } from 'react-bootstrap';\r\nimport BidForm from './BidForm';\r\n\r\nconst AuctionItemDetail = ({ itemId }) => {\r\n    const [item, setItem] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (itemId) {\r\n            console.log('Fetching item details for itemId:', itemId);\r\n            getAuctionItemById(itemId).then(response => {\r\n                console.log('Fetched item details:', response.data);\r\n                setItem(response.data);\r\n            });\r\n        }\r\n    }, [itemId]);\r\n\r\n    const handleBidPlaced = () => {\r\n        console.log('handleBidPlaced called, fetching updated item details for itemId:', itemId);\r\n        getAuctionItemById(itemId).then(response => {\r\n            console.log('Updated item details:', response.data);\r\n            setItem(response.data);\r\n        }).catch(error => {\r\n            console.error('Error fetching auction item details:', error);\r\n        });\r\n    };\r\n\r\n    const applyDiscount = (discount) => {\r\n        updateAuctionItemDiscount(item.id, discount).then(response => {\r\n            setItem(response.data);\r\n        }).catch(error => {\r\n            console.error('Error applying discount:', error);\r\n        });\r\n    };\r\n\r\n    if (!item) {\r\n        return <div className=\"col-md-8\">Select an item to see details</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"col-md-8\">\r\n            <Card>\r\n                <Card.Body>\r\n                    <Card.Title>{item.name}</Card.Title>\r\n                    <Card.Text>{item.description}</Card.Text>\r\n                    <Card.Text>Starting Price: ${item.startingPrice}</Card.Text>\r\n                    <Card.Text>Discount: {item.discount}%</Card.Text>\r\n                    <Card.Text>Discounted Price: ${item.startingPrice * (1 - item.discount / 100).toFixed(2)}</Card.Text>\r\n                    <Card.Text>Current Bid: ${item.currentBid}</Card.Text>\r\n                    <ButtonGroup>\r\n                        <Button variant=\"secondary\" onClick={() => applyDiscount(10)}>10%</Button>\r\n                        <Button variant=\"secondary\" onClick={() => applyDiscount(25)}>25%</Button>\r\n                        <Button variant=\"secondary\" onClick={() => applyDiscount(50)}>50%</Button>\r\n                        <Button variant=\"secondary\" onClick={() => applyDiscount(75)}>75%</Button>\r\n                    </ButtonGroup>\r\n                    <BidForm itemId={item.id} onBidPlaced={handleBidPlaced} />\r\n                </Card.Body>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AuctionItemDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}